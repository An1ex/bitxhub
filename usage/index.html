<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>BitXHub使用文档 | BitXHub文档</title>
    <meta name="generator" content="VuePress 1.5.4">
    
    <meta name="description" content="BitXHub部署文档、使用文档、设计文档站">
    <link rel="preload" href="/bitxhub/assets/css/0.styles.fbae815b.css" as="style"><link rel="preload" href="/bitxhub/assets/js/app.3450d84e.js" as="script"><link rel="preload" href="/bitxhub/assets/js/2.9c5ab97b.js" as="script"><link rel="preload" href="/bitxhub/assets/js/14.d7888f74.js" as="script"><link rel="prefetch" href="/bitxhub/assets/js/10.c231280d.js"><link rel="prefetch" href="/bitxhub/assets/js/11.9ee973cb.js"><link rel="prefetch" href="/bitxhub/assets/js/12.46fcade6.js"><link rel="prefetch" href="/bitxhub/assets/js/13.b374135c.js"><link rel="prefetch" href="/bitxhub/assets/js/15.6d1bf087.js"><link rel="prefetch" href="/bitxhub/assets/js/3.2e17f55f.js"><link rel="prefetch" href="/bitxhub/assets/js/4.5566ec6d.js"><link rel="prefetch" href="/bitxhub/assets/js/5.427bfa4e.js"><link rel="prefetch" href="/bitxhub/assets/js/6.27cb6483.js"><link rel="prefetch" href="/bitxhub/assets/js/7.d45d02aa.js"><link rel="prefetch" href="/bitxhub/assets/js/8.ab54e651.js"><link rel="prefetch" href="/bitxhub/assets/js/9.a2be9c30.js">
    <link rel="stylesheet" href="/bitxhub/assets/css/0.styles.fbae815b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/bitxhub/" class="home-link router-link-active"><img src="/bitxhub/images/logo.png" alt="BitXHub文档" class="logo"> <span class="site-name can-hide">BitXHub文档</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://bitxhub.hyperchain.cn/#/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  官网
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/meshplus/bitxhub" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://bitxhub.hyperchain.cn/#/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  官网
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/meshplus/bitxhub" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/bitxhub/quick/" class="sidebar-link">快速开始</a></li><li><a href="/bitxhub/deploy/" class="sidebar-link">部署文档</a></li><li><a href="/bitxhub/usage/" aria-current="page" class="active sidebar-link">使用文档</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bitxhub/usage/#准备工作" class="sidebar-link">准备工作</a></li><li class="sidebar-sub-header"><a href="/bitxhub/usage/#编译" class="sidebar-link">编译</a></li><li class="sidebar-sub-header"><a href="/bitxhub/usage/#启动solo模式bitxhub" class="sidebar-link">启动solo模式bitxhub</a></li><li class="sidebar-sub-header"><a href="/bitxhub/usage/#本地快速启动4节点" class="sidebar-link">本地快速启动4节点</a></li><li class="sidebar-sub-header"><a href="/bitxhub/usage/#自定义启动" class="sidebar-link">自定义启动</a></li></ul></li><li><section class="sidebar-group collapsable depth-0"><a href="/bitxhub/develop/" class="sidebar-heading clickable"><span>开发文档</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/bitxhub/faq/" class="sidebar-link">FAQ</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="bitxhub使用文档"><a href="#bitxhub使用文档" class="header-anchor">#</a> BitXHub使用文档</h1> <h2 id="准备工作"><a href="#准备工作" class="header-anchor">#</a> 准备工作</h2> <p>BitXHub使用<a href="https://golang.org/doc/install" target="_blank" rel="noopener noreferrer"><strong>golang</strong><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>开发，版本要求1.13以上。</p> <p>如果你想在本地或者服务器上运行BitXHub，你需要在机器上安装有以下的依赖：</p> <p><a href="https://github.com/gobuffalo/packr" target="_blank" rel="noopener noreferrer"><strong>packr</strong><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="https://gist.github.com/thiagozs/4276432d12c2e5b152ea15b3f8b0012e#installation" target="_blank" rel="noopener noreferrer"><strong>gomock</strong><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="https://gist.github.com/thiagozs/4276432d12c2e5b152ea15b3f8b0012e#installation" target="_blank" rel="noopener noreferrer"><strong>mockgen</strong><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>可以通过下面的命令，快速安装依赖：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">bash</span> scripts/prepare.sh
</code></pre></div><h2 id="编译"><a href="#编译" class="header-anchor">#</a> 编译</h2> <p>编译bitxhub：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">make</span> build
</code></pre></div><p>编译完后，会在<code>bin</code>目录下生成一个<code>bitxhub</code>二进制文件。</p> <p>使用<code>version</code>命令进行验证：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ ./bin/bitxhub version
BitXHub version: <span class="token number">1.0</span>.0-master-2bb82e8
App build date: <span class="token number">2020</span>-03-31T00:02:19
System version: darwin/amd64
Golang version: go1.13.8
</code></pre></div><p>如果想直接安装<code>bitxhub</code>到可执行环境，可以使用<code>install</code>命令：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">make</span> <span class="token function">install</span>
</code></pre></div><h2 id="启动solo模式bitxhub"><a href="#启动solo模式bitxhub" class="header-anchor">#</a> 启动solo模式bitxhub</h2> <p>使用下面的命令即可启动一个单节点的bitxhub：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> scripts
<span class="token function">bash</span> solo.sh
</code></pre></div><p>启动成功会打印出BitXHub的ASCII字体：
</p><p><img src="https://user-images.githubusercontent.com/29200902/77936225-30cc6400-72e5-11ea-9499-1ead165c5495.png" width="50%"></p><p></p> <h2 id="本地快速启动4节点"><a href="#本地快速启动4节点" class="header-anchor">#</a> 本地快速启动4节点</h2> <p>本地快速启动脚本依赖于<a href="https://github.com/tmux/tmux/wiki" target="_blank" rel="noopener noreferrer">tmux<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，需要提前进行安装。</p> <p>使用下面的命令克隆项目：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">git</span> clone git@github.com:meshplus/bitxhub.git
</code></pre></div><p>BitXHub还依赖于一些小工具，使用下面的命令进行安装：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> bitxhub
<span class="token function">bash</span> scripts/prepare.sh 
</code></pre></div><p>最后，运行下面的命令即可运行一个四节点的BitXHub中继链：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">make</span> cluster
</code></pre></div><p>启动成功会在四个窗格中分别打印出BitXHub的ASCII字体。</p> <p><strong>注意：</strong> <code>make cluster</code>启动会使用<code>tmux</code>进行分屏，所以在命令执行过程中，最好不要进行终端切换。</p> <h2 id="自定义启动"><a href="#自定义启动" class="header-anchor">#</a> 自定义启动</h2> <p>首先，使用项目提供的配置脚本快速生成配置文件：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> bitxhub/scripts
<span class="token function">bash</span> config.sh <span class="token operator">&lt;</span>number<span class="token operator">&gt;</span> // number是节点数量，
</code></pre></div><p>上面命令以生成4个节点配置作为例子，会在当前目录下的build文件夹下生成如下文件：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">.</span>
├── addresses
├── agency.cert
├── agency.priv
├── bitxhub
├── ca.cert
├── ca.priv
├── node1
├── node2
├── node3
├── node4
├── pids
└── raft.so
</code></pre></div><p>node1-node4下的文件信息如下：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">.</span>
├── api
├── bitxhub.toml
├── certs
├── network.toml
├── order.toml
├── plugins
└── start.sh
</code></pre></div><h3 id="修改端口信息"><a href="#修改端口信息" class="header-anchor">#</a> 修改端口信息</h3> <p>端口的配置主要在<code>bitxhub.toml</code>文件中。</p> <p><code>port.grpc</code> 修改节点的grpc端口</p> <p><code>port.gateway</code> 修改节点的grpc gateway端口</p> <p><code>port.pprof</code> 修改节点的pprof端口</p> <h3 id="修改初始化账号"><a href="#修改初始化账号" class="header-anchor">#</a> 修改初始化账号</h3> <p><code>addresses</code>文件中记录了各节点的地址，将里面的地址填写到<code>genesis.addresses</code>中即可。</p> <h3 id="修改网络信息"><a href="#修改网络信息" class="header-anchor">#</a> 修改网络信息</h3> <p>网络配置修改在<code>network.toml</code>中。</p> <p><code>N</code>字段修改为节点数量，默认是4个。</p> <p><code>id</code>字段代表了节点的顺序id，范围在1-N，节点间不能重复。</p> <p><code>addr</code>和<code>id</code>分别是各节点的地址和id，其中<code>/ip4/</code>后填写节点所在服务器的ip地址，<code>/tcp/</code>后填写节点的libp2p端口（端口不重复即可），<code>/p2p/</code>后填写Libp2p的id，具体的值从pids文件中按照顺序获取。</p> <h3 id="启动"><a href="#启动" class="header-anchor">#</a> 启动</h3> <p>启动前，需要将build目录下的bitxhub二进制拷贝到node1-node4目录下，将build目录下的raft.so插件拷贝到node1-node4下的plugins下。</p> <p>分别进入到node1-node4目录下，执行以下命令即可启动：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">bash</span> start.sh
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/bitxhub/deploy/" class="prev">
        部署文档
      </a></span> <span class="next"><a href="/bitxhub/develop/consensus_usage.html">
        共识算法插件化使用文档
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/bitxhub/assets/js/app.3450d84e.js" defer></script><script src="/bitxhub/assets/js/2.9c5ab97b.js" defer></script><script src="/bitxhub/assets/js/14.d7888f74.js" defer></script>
  </body>
</html>
